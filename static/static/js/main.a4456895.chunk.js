(this.webpackJsonpnew=this.webpackJsonpnew||[]).push([[0],{17:function(e,t,a){},25:function(e,t,a){e.exports=a(43)},31:function(e,t,a){},32:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(22),r=a.n(s),l=a(7),i=a.n(l),c=a(10),m=a(2),u=a(3),d=a(6),p=a(5),h=a(12),f=a(1),v=(a(31),a(15)),g=(a(32),a(24)),b=function(){function e(){Object(m.a)(this,e)}return Object(u.a)(e,null,[{key:"api",value:function(){var e=Object(c.a)(i.a.mark((function e(t){var a,n,o,s=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=s.length>1&&void 0!==s[1]?s[1]:{},!(s.length>2&&void 0!==s[2])||s[2];case 2:return e.prev=2,e.next=5,fetch("/api/"+t,{method:"POST",credentials:"include",body:JSON.stringify(a)});case 5:n=e.sent,e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("continue",12);case 11:return e.abrupt("break",13);case 12:e.next=2;break;case 13:return e.next=15,n.json();case 15:return 3===(o=e.sent).status&&"\u0421\u0435\u0441\u0441\u0438\u044f \u043d\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u0430."===o.response?(this.logout(),document.location.reload()):2===o.status&&(this.setCookie("session",o.response,"SameSite=None"),document.location.reload()),e.abrupt("return",o);case 18:case"end":return e.stop()}}),e,this,[[2,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){window.location.href="/#/login",this.deleteCookie("session"),localStorage.removeItem("notes"),localStorage.removeItem("sync_stamp"),document.location.reload()}},{key:"getCookie",value:function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([.$?*|{}()[\]\\/+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):""}},{key:"setCookie",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(a=Object(g.a)({path:"/"},a)).expires instanceof Date&&(a.expires=a.expires.toUTCString());var n=encodeURIComponent(e)+"="+encodeURIComponent(t);for(var o in a){n+="; "+o;var s=a[o];!0!==s&&(n+="="+s)}document.cookie=n}},{key:"deleteCookie",value:function(e){this.setCookie(e,"",{"max-age":-1})}}]),e}(),w=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).add_note=Object(c.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.api("add_note");case 2:t=(t=e.sent).response,n.props.setter({notes:[[t,"","",Date.now()/1e3]].concat(Object(v.a)(n.props.state.notes))});case 5:case"end":return e.stop()}}),e)}))),n.hide_menu=function(){var e=document.getElementsByClassName("user")[0];n.setState({isVisible:!1}),e.addEventListener("click",n.show_menu),window.removeEventListener("click",n.hide_menu)},n.show_menu=function(){var e=document.getElementsByClassName("user")[0];n.setState({isVisible:!0}),e.removeEventListener("click",n.show_menu),setTimeout((function(){window.addEventListener("click",n.hide_menu)}),10)},n.props=e,n.state={isVisible:!1},n}return Object(u.a)(a,[{key:"componentWillUnmount",value:function(){return this.state.isVisible?this.hide_menu():void 0}},{key:"componentDidMount",value:function(){document.getElementsByClassName("user")[0].addEventListener("click",this.show_menu)}},{key:"render",value:function(){return o.a.createElement("header",{className:"navbar bg-dark",style:{height:70,marginBottom:5,color:"white"}},"add"===this.props.button?o.a.createElement("div",{className:"btn btn-primary",onClick:this.add_note},o.a.createElement("svg",{className:"bi bi-plus",width:"1.5em",height:"1.5em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",d:"M8 3.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H4a.5.5 0 0 1 0-1h3.5V4a.5.5 0 0 1 .5-.5z"}),o.a.createElement("path",{fillRule:"evenodd",d:"M7.5 8a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H8.5V12a.5.5 0 0 1-1 0V8z"}))):"back"===this.props.button?o.a.createElement("div",{className:"btn btn-primary",onClick:function(){window.history.go(-1)}},o.a.createElement("svg",{className:"bi bi-arrow-left",width:"1.5em",height:"1.5em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",d:"M5.854 4.646a.5.5 0 0 1 0 .708L3.207 8l2.647 2.646a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 0 1 .708 0z"}),o.a.createElement("path",{fillRule:"evenodd",d:"M2.5 8a.5.5 0 0 1 .5-.5h10.5a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"}))):o.a.createElement("span",null),o.a.createElement("div",{className:"user"},this.props.username,this.state.isVisible&&o.a.createElement(E,null)))}}]),a}(o.a.Component),E=function(){return o.a.createElement("ul",{className:"dropdown-menu dropdown-menu-right",style:{display:"block"}},o.a.createElement("li",null,o.a.createElement(h.b,{activeClassName:"active",className:"dropdown-item",to:"/profile"},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c")),o.a.createElement("li",null,o.a.createElement("button",{className:"dropdown-item",onClick:function(e){e.preventDefault(),b.logout()}},"\u0412\u044b\u0439\u0442\u0438")))},y=w,N=(a(38),["\u044f\u043d\u0432.","\u0444\u0435\u0432.","\u043c\u0430\u0440.","\u0430\u043f\u0440.","\u043c\u0430\u044f","\u0438\u044e\u043d\u044f","\u0438\u044e\u043b\u044f","\u0441\u0435\u043d.","\u043e\u043a\u0442.","\u043d\u043e\u044f.","\u0434\u0435\u043a."]),k=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).remove_note=function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.api("remove_note",{note_id:t});case 2:n.setter({notes:n.notes.filter((function(e){return e[0]!==t}))});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.notes=e.state.notes,n.setter=e.setter,n}return Object(u.a)(a,[{key:"format_date",value:function(e){var t=new Date(1e3*e);return t.getHours()+":"+"0".concat(t.getMinutes()).slice(-2)+" "+t.getDate()+" "+N[t.getMonth()-1]+" "+t.getFullYear()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4"},this.notes.map((function(t){return o.a.createElement("div",{key:t[0],className:"col",style:{marginBottom:10}},o.a.createElement("div",{className:"card bg-light",onClick:function(){window.location.href="/#/home/note/"+t[0]}},o.a.createElement("div",{className:"card-header navbar"},o.a.createElement("span",null,t[1]),o.a.createElement("button",{className:"btn btn-danger",style:{width:38,height:38,color:"white"},onClick:function(a){a.stopPropagation(),e.remove_note(t[0])}},"\u2013")),o.a.createElement("div",{className:"card-body"},o.a.createElement("pre",{className:"card-text"},t[2])),o.a.createElement("hr",null),o.a.createElement("span",{id:"timestamp"},"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u043e: ",e.format_date(t[3]))))})))}}]),a}(o.a.Component),I=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).globalState=e.state,n.setter=e.setter,n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.interval=setInterval(this.props.sync_notes,1e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(y,{username:this.globalState.profile[1],setter:this.setter,state:this.globalState,button:"add"}),o.a.createElement(k,{setter:this.setter,state:this.globalState}))}}]),a}(o.a.Component),x=(a(17),a(39),function(e){return o.a.createElement("div",{className:"alert alert-danger"},e.text)}),_=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).resolveLogin=function(e){e.status>2?(n.setState({showAlert:!0,textAlert:e.response}),setTimeout((function(){return n.setState({showAlert:!1})}),5e3)):2===e.status&&(window.location.href="/#/home")},n.submit=function(e){e.preventDefault();var t=document.getElementById("emailInput"),a=document.getElementById("passwordInput");b.api("login",{username:t.value,password:a.value}).then(n.resolveLogin)},n.props=e,n.state={showAlert:!1,textAlert:""},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.isLogged&&(window.location.href="/#/home"),document.getElementById("login_form").addEventListener("submit",this.submit)}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,this.state.showAlert&&o.a.createElement(x,{text:this.state.textAlert}),o.a.createElement("form",{id:"login_form",className:"container border rounded p-3 mb-5 bg-white"},o.a.createElement("h1",{className:"text-center"},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"col",htmlFor:"emailInput"},"\u041b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 email"),o.a.createElement("input",{type:"login",className:"form-control",id:"emailInput",tabIndex:"1"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"row"},o.a.createElement("label",{className:"col",htmlFor:"passwordInput"},"\u041f\u0430\u0440\u043e\u043b\u044c"),o.a.createElement(h.b,{to:"/forgot",className:"col text-right"},"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?")),o.a.createElement("input",{type:"password",className:"form-control",id:"passwordInput",tabIndex:"2"})),o.a.createElement("button",{type:"submit",className:"btn btn-success btn-lg btn-block",tabIndex:"3"},"\u0412\u0445\u043e\u0434"),o.a.createElement("hr",{className:"my-md-3"}),"\u0412 \u043f\u0435\u0440\u0432\u044b\u0439 \u0440\u0430\u0437? ",o.a.createElement(h.b,{to:"/register"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442.")))}}]),a}(o.a.Component),C=function(){return o.a.createElement("div",{className:"d-flex justify-content-center"},o.a.createElement("div",{className:"spinner-border",role:"status"},o.a.createElement("span",{className:"sr-only"},"Loading...")))},O=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).resolveLogin=function(e){e.status>2?(n.setState({showAlert:!0,textAlert:e.response}),setTimeout((function(){return n.setState({showAlert:!1})}),5e3)):2===e.status&&(window.location.href="/#/home")},n.submit=function(e){e.preventDefault();var t=document.getElementById("emailInput"),a=document.getElementById("passwordInput"),o=document.getElementById("passwordRepeatInput");if(a.value!==o.value)return document.getElementsByClassName("invisible")[0].classList.remove("invisible"),a.classList.add("is-invalid"),void o.classList.add("is-invalid");b.api("register",{username:t.value,password:a.value}).then(n.resolveLogin)},n.props=e,n.state={showAlert:!1,textAlert:""},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.isLogged&&(window.location.href="/#/home"),document.getElementById("login_form").addEventListener("submit",this.submit)}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,this.state.showAlert&&o.a.createElement(x,{text:this.state.textAlert}),o.a.createElement("form",{id:"login_form",className:"container border rounded p-3 mb-5 bg-white"},o.a.createElement("h1",{className:"text-center"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"col",htmlFor:"emailInput"},"\u041b\u043e\u0433\u0438\u043d"),o.a.createElement("input",{type:"login",className:"form-control",id:"emailInput",tabIndex:"1"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"row"},o.a.createElement("label",{className:"col",htmlFor:"passwordInput"},"\u041f\u0430\u0440\u043e\u043b\u044c"),o.a.createElement("span",{className:"invisible text-danger col text-right"},"\u041f\u0430\u0440\u043e\u043b\u0438 \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0442\u044c")),o.a.createElement("input",{type:"password",className:"form-control",id:"passwordInput",tabIndex:"2"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"row"},o.a.createElement("label",{className:"col",htmlFor:"passwordRepeatInput"},"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c")),o.a.createElement("input",{type:"password",className:"form-control",id:"passwordRepeatInput",tabIndex:"3"})),o.a.createElement("button",{type:"submit",className:"btn btn-success btn-lg btn-block",tabIndex:"4"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442")))}}]),a}(o.a.Component),S=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).resolveLogin=function(e){e.status>2?(n.setState({showAlert:!0,textAlert:e.response}),setTimeout((function(){return n.setState({showAlert:!1})}),5e3)):2===e.status&&(window.location.href="/#/home")},n.submit=function(e){e.preventDefault();var t=document.getElementById("emailInput"),a=document.getElementById("passwordInput"),o=document.getElementById("passwordRepeatInput");if(a.value!==o.value)return document.getElementsByClassName("invisible")[0].classList.remove("invisible"),a.classList.add("is-invalid"),void o.classList.add("is-invalid");b.api("forgot_password",{email:t.value,password:a.value}).then(n.resolveLogin)},n.props=e,n.state={showAlert:!1,textAlert:""},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.isLogged&&(window.location.href="/#/home"),document.getElementById("login_form").addEventListener("submit",this.submit)}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,this.state.showAlert&&o.a.createElement(x,{text:this.state.textAlert}),o.a.createElement("form",{id:"login_form",className:"container border rounded p-3 mb-5 bg-white"},o.a.createElement("h1",{className:"text-center"},"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"),o.a.createElement("h6",null,"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0432 \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435, \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u043e\u0439 \u043d\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043e.",o.a.createElement("br",null),"\u0415\u0441\u043b\u0438 \u0432\u044b \u043d\u0435 \u0445\u043e\u0442\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043f\u0430\u0440\u043e\u043b\u044c \u043c\u043e\u0433 \u0431\u044b\u0442\u044c \u0441\u0431\u0440\u043e\u0448\u0435\u043d \u043b\u044e\u0431\u044b\u043c \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u043e\u043c, \u0437\u043d\u0430\u044e\u0449\u0438\u043c \u0432\u0430\u0448 \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b, \u043d\u0435 \u0437\u0430\u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0435\u0435 \u0430\u0434\u0440\u0435\u0441 \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 \u043f\u0440\u043e\u0444\u0438\u043b\u044f."),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"col",htmlFor:"emailInput"},"Email"),o.a.createElement("input",{type:"login",className:"form-control",id:"emailInput",tabIndex:"1"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"row"},o.a.createElement("label",{className:"col",htmlFor:"passwordInput"},"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"),o.a.createElement("span",{className:"invisible text-danger col text-right"},"\u041f\u0430\u0440\u043e\u043b\u0438 \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0442\u044c")),o.a.createElement("input",{type:"password",className:"form-control",id:"passwordInput",tabIndex:"2"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"row"},o.a.createElement("label",{className:"col",htmlFor:"passwordRepeatInput"},"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c")),o.a.createElement("input",{type:"password",className:"form-control",id:"passwordRepeatInput",tabIndex:"3"})),o.a.createElement("button",{type:"submit",className:"btn btn-success btn-lg btn-block",tabIndex:"4"},"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c")))}}]),a}(o.a.Component),j=(a(40),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).resolveSubmit=function(e){if(e.status>2)return console.log(e.response),n.setState({showAlert:!0,textAlert:e.response}),void setTimeout((function(){return n.setState({showAlert:!1})}),5e3);n.setter({profile:[n.globalState.profile[0],n.login.value,n.email.value]}),window.location.href="/#/home"},n.resolveDestroy=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.api("remove_user");case 2:b.logout();case 3:case"end":return e.stop()}}),e)}))),n.submit=function(e){e.preventDefault();var t=document.getElementById("oldPasswordInput"),a=document.getElementById("newPasswordInput1"),o=document.getElementById("newPasswordInput2");if(a.value!==o.value)return document.getElementsByClassName("invisible")[0].classList.remove("invisible"),a.classList.add("is-invalid"),void o.classList.add("is-invalid");a.classList.remove("is-invalid"),o.classList.remove("is-invalid"),b.api("edit_profile",{username:n.login.value,email:n.email.value,password:a.value,old_password:t.value}).then(n.resolveSubmit)},n.state={showAlert:!1,textAlert:""},n.globalState=e.state,n.setter=e.setter,n}return Object(u.a)(a,[{key:"show_modal",value:function(e){e.preventDefault(),document.getElementsByClassName("modal")[0].style="display:block"}},{key:"close_modal",value:function(){document.getElementsByClassName("modal")[0].style="display:none"}},{key:"componentDidMount",value:function(){document.getElementsByClassName("profile")[0].addEventListener("submit",this.submit),this.login=document.getElementById("loginInput"),this.login.value=this.globalState.profile[1],this.email=document.getElementById("emailInput"),this.email.value=this.globalState.profile[2]}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,this.state.showAlert&&o.a.createElement(x,{text:this.state.textAlert}),o.a.createElement(y,{username:this.globalState.profile[1],setter:this.setter,state:this.globalState,button:"back"}),o.a.createElement("form",{className:"profile"},o.a.createElement("h3",null,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f"),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"col",htmlFor:"loginInput"},"\u041b\u043e\u0433\u0438\u043d"),o.a.createElement("input",{type:"login",className:"form-control",id:"loginInput",placeholder:"\u043d\u0438\u043a"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"col",htmlFor:"emailInput"},"Email"),o.a.createElement("input",{type:"email",className:"form-control",id:"emailInput",placeholder:"\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"col",htmlFor:"oldPasswordInput"},"\u0421\u0442\u0430\u0440\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"),o.a.createElement("input",{type:"password",className:"form-control",id:"oldPasswordInput",placeholder:"\u043f\u0430\u0440\u043e\u043b\u044c"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"row"},o.a.createElement("label",{className:"col",htmlFor:"newPasswordInput1"},"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"),o.a.createElement("span",{className:"invisible text-danger col text-right"},"\u041f\u0430\u0440\u043e\u043b\u0438 \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0442\u044c")),o.a.createElement("input",{type:"password",className:"form-control",id:"newPasswordInput1",placeholder:"\u043f\u0430\u0440\u043e\u043b\u044c"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"col",htmlFor:"newPasswordInput2"},"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"),o.a.createElement("input",{type:"password",className:"form-control",id:"newPasswordInput2",placeholder:"\u043f\u0430\u0440\u043e\u043b\u044c"})),o.a.createElement("div",{className:"d-flex justify-content-between"},o.a.createElement("button",{type:"submit",className:"btn btn-primary"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),o.a.createElement("button",{onClick:this.show_modal,className:"btn btn-danger"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442"))),o.a.createElement("div",{className:"modal",tabIndex:"-1",role:"dialog",onClick:this.close_modal},o.a.createElement("div",{className:"modal-dialog",role:"document",onClick:function(e){return e.stopPropagation()}},o.a.createElement("div",{className:"modal-content"},o.a.createElement("div",{className:"modal-header"},o.a.createElement("h5",{className:"modal-title"},"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435")),o.a.createElement("div",{className:"modal-body"},o.a.createElement("p",null,"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442?",o.a.createElement("br",null),"\u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c.")),o.a.createElement("div",{className:"modal-footer"},o.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.resolveDestroy},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442"),o.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:this.close_modal},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"))))))}}]),a}(o.a.Component)),L=(a(41),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).resolveSync=function(e){localStorage.setItem("sync_stamp",e.response),n.notes=n.notes.filter((function(e){return e[0]!==n.state.note_id})),n.notes=[[n.state.note_id,n.state.label,n.state.note,e.response]].concat(Object(v.a)(n.notes)),n.setter({notes:n.notes}),localStorage.setItem("notes",JSON.stringify(n.notes))},n.sync=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.api("edit_note",{note_id:n.state.note_id,label:n.state.label,note:n.state.note}).then(n.resolveSync);case 1:case"end":return e.stop()}}),e)}))),n.close=function(){document.getElementById("note").disabled=!0,document.getElementById("label").disabled=!0;var e=document.getElementById("close");e.disabled=!0,e.classList.remove("btn-success"),e.classList.add("btn-secondary"),clearTimeout(n.sync_timeout),n.sync().then((function(){window.location.href="/#/home"}))},n.handleChange=function(e){switch(e.target.id){case"note":n.setState({note:e.target.value});break;default:n.setState({label:e.target.value})}clearTimeout(n.sync_timeout),n.sync_timeout=setTimeout(n.sync,2e3)},n.notes=e.state.notes,n.setter=e.setter,n.state={note_id:-1,label:"",note:""},n.sync_timeout=void 0,n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=parseInt(window.location.href.substring(window.location.href.lastIndexOf("/")+1)),t=this.notes.filter((function(t){return t[0]===e}))[0];try{this.setState({note_id:e,label:t[1],note:t[2]})}catch(a){window.location.href="/#/home"}}},{key:"render",value:function(){return o.a.createElement("div",{className:"overlay",onClick:this.close},o.a.createElement("div",{className:"editor d-flex flex-column",onClick:function(e){return e.stopPropagation()}},o.a.createElement("textarea",{id:"label",className:"bg-light font-weight-bold",value:this.state.label,onChange:this.handleChange,rows:1}),o.a.createElement("textarea",{id:"note",className:"flex-grow-1",autoFocus:!0,value:this.state.note,onChange:this.handleChange}),o.a.createElement("button",{onClick:this.close,id:"close",className:"btn btn-success",style:{textAlign:"center"}},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")))}}]),a}(o.a.Component)),A=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).sync_notes=function(){b.api("get_sync_stamp").then((function(e){1===e.status&&localStorage.getItem("sync_stamp")!==e.response.toString()&&(localStorage.setItem("sync_stamp",e.response),b.api("show_notes",{}).then((function(e){n.setState({notes:e.response}),localStorage.setItem("notes",JSON.stringify(e.response))})))}))},n.setter=function(e){n.setState(e)},n.state={ready:!1,logged:!1,profile:[],notes:[]},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b.getCookie("session").length>1?this.state.logged=b.getCookie("session").length>1:window.location.href.match("forgot|register")||(window.location.href="/#/login"),!this.state.logged){e.next=10;break}return(t=JSON.parse(localStorage.getItem("notes")))&&this.setState({notes:t}),e.next=6,b.api("show_profile");case 6:1===(a=e.sent).status&&(this.sync_notes(),window.location.href.match("profile|note")||(window.location.href="/#/home"),this.setState({profile:a.response,ready:!0})),e.next=11;break;case 10:this.setState({ready:!0});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,this.state.ready?o.a.createElement(h.a,null,o.a.createElement("div",{className:"d-flex flex-column"},o.a.createElement(f.a,{path:"/home",component:function(t){return o.a.createElement(I,{sync_notes:e.sync_notes,setter:e.setter,state:e.state})}}),o.a.createElement(f.a,{exact:!0,path:"/login",component:function(t){return o.a.createElement(_,{isLogged:e.state.logged})}}),o.a.createElement(f.a,{exact:!0,path:"/register",component:function(t){return o.a.createElement(O,{isLogged:e.state.logged})}}),o.a.createElement(f.a,{exact:!0,path:"/forgot",component:function(t){return o.a.createElement(S,{isLogged:e.state.logged})}}),o.a.createElement(f.a,{exact:!0,path:"/profile",component:function(t){return o.a.createElement(j,{setter:e.setter,state:e.state})}}),o.a.createElement(f.a,{path:"*note*",component:function(t){return o.a.createElement(L,{setter:e.setter,state:e.state})}}))):o.a.createElement(C,null))}}]),a}(o.a.Component),B=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function F(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a(42);r.a.render(o.a.createElement(A,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/static",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/static","/service-worker.js");B?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):F(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):F(t,e)}))}}()}},[[25,1,2]]]);